<meta charset="utf-8">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<style>
    . table td { vertical-align: middle; }
    .expl-text { font-style: italic; color: #555; font-size: 0.95rem;}
    .conf-score { font-size: 0.8rem; color: #6c757d; display: block; margin-top: 4px; }
    .validation-cell { min-width: 180px; }
    .badge-label { font-size: 0. 9rem; padding: 6px 10px; }
    .custom-control { margin-bottom: 0.5rem; }
    . custom-control-label { cursor: pointer; }
</style>

<div class="container-fluid mt-4" style="max-width: 1200px;">

    <div class="card mb-4 shadow-sm border-dark">
        <div class="card-header bg-dark text-white py-2">
            <strong>Original Text (ID: {{ instance_obj.id }})</strong>
        </div>
        <div class="card-body bg-light py-3">
            <p class="lead mb-0" style="font-size: 1.15rem;">{{ instance_obj.text }}</p>
        </div>
    </div>

    <div class="alert alert-info py-2 mb-3 small">
        <strong>Anleitung:</strong> Bewerten Sie die Validität (Sinnhaftigkeit) der Erklärung für das gewählte Label.
    </div>

    <div class="table-responsive shadow-sm">
        <table class="table table-bordered table-hover bg-white mb-0">
            <thead class="thead-light">
                <tr>
                    <th style="width: 5%">#</th>
                    <th style="width: 20%">Entscheidung</th>
                    <th style="width: 50%">Erklärung</th>
                    <th style="width: 25%">Validierung</th>
                </tr>
            </thead>
            <tbody>

                {% if instance_obj.r1_label_1 %}
                <tr>
                    <td class="text-center font-weight-bold">1</td>
                    <td>
                        <span class="badge badge-primary badge-label">{{ instance_obj.r1_label_1 }}</span>
                        {% if instance_obj.r1_conf_1 %}
                        <span class="conf-score"><i class="small">Konfidenz:</i><br>{{ instance_obj.r1_conf_1 }}</span>
                        {% endif %}
                    </td>
                    <td class="expl-text">"{{ instance_obj.r1_expl_1 }}"</td>
                    <td class="validation-cell">
                        <form class="annotation-form">
                            <fieldset>
                                <input type="radio" id="v1_valid" name="validity_1:::valid" value="v1_valid" class="validity_1" onclick="onlyOne(this)" validation="required">
                                <label class="text-success font-weight-bold" for="v1_valid">Ja (Sinnvoll)</label><br>

                                <input type="radio" id="v1_invalid" name="validity_1:::invalid" value="v1_invalid" class="validity_1" onclick="onlyOne(this)">
                                <label class="text-danger" for="v1_invalid">Nein (Ungültig)</label><br>

                                <input type="radio" id="v1_unsure" name="validity_1:::unsure" value="v1_unsure" class="validity_1" onclick="onlyOne(this)">
                                <label class="text-secondary" for="v1_unsure">Unsicher</label>
                            </fieldset>
                        </form>
                    </td>
                </tr>
                {% endif %}

                {% if instance_obj.r1_label_2 %}
                <tr>
                    <td class="text-center font-weight-bold">2</td>
                    <td>
                        <span class="badge badge-primary badge-label">{{ instance_obj.r1_label_2 }}</span>
                        {% if instance_obj.r1_conf_2 %}
                        <span class="conf-score"><i class="small">Konfidenz:</i><br>{{ instance_obj.r1_conf_2 }}</span>
                        {% endif %}
                    </td>
                    <td class="expl-text">"{{ instance_obj.r1_expl_2 }}"</td>
                    <td class="validation-cell">
                        <form class="annotation-form">
                            <fieldset>
                                <input type="radio" id="v2_valid" name="validity_2:::valid" value="v2_valid" class="validity_2" onclick="onlyOne(this)" validation="required">
                                <label class="text-success font-weight-bold" for="v2_valid">Ja (Sinnvoll)</label><br>

                                <input type="radio" id="v2_invalid" name="validity_2:::invalid" value="v2_invalid" class="validity_2" onclick="onlyOne(this)">
                                <label class="text-danger" for="v2_invalid">Nein (Ungültig)</label><br>

                                <input type="radio" id="v2_unsure" name="validity_2:::unsure" value="v2_unsure" class="validity_2" onclick="onlyOne(this)">
                                <label class="text-secondary" for="v2_unsure">Unsicher</label>
                            </fieldset>
                        </form>
                    </td>
                </tr>
                {% endif %}

                {% if instance_obj.r1_label_3 %}
                <tr>
                    <td class="text-center font-weight-bold">3</td>
                    <td>
                        <span class="badge badge-primary badge-label">{{ instance_obj.r1_label_3 }}</span>
                        {% if instance_obj.r1_conf_3 %}
                        <span class="conf-score"><i class="small">Konfidenz:</i><br>{{ instance_obj.r1_conf_3 }}</span>
                        {% endif %}
                    </td>
                    <td class="expl-text">"{{ instance_obj.r1_expl_3 }}"</td>
                    <td class="validation-cell">
                        <form class="annotation-form">
                            <fieldset>
                                <input type="radio" id="v3_valid" name="validity_3:::valid" value="v3_valid" class="validity_3" onclick="onlyOne(this)" validation="required">
                                <label class="text-success font-weight-bold" for="v3_valid">Ja (Sinnvoll)</label><br>

                                <input type="radio" id="v3_invalid" name="validity_3:::invalid" value="v3_invalid" class="validity_3" onclick="onlyOne(this)">
                                <label class="text-danger" for="v3_invalid">Nein (Ungültig)</label><br>

                                <input type="radio" id="v3_unsure" name="validity_3:::unsure" value="v3_unsure" class="validity_3" onclick="onlyOne(this)">
                                <label class="text-secondary" for="v3_unsure">Unsicher</label>
                            </fieldset>
                        </form>
                    </td>
                </tr>
                {% endif %}

                {% if instance_obj.r1_label_4 %}
                <tr>
                    <td class="text-center font-weight-bold">4</td>
                    <td>
                        <span class="badge badge-primary badge-label">{{ instance_obj.r1_label_4 }}</span>
                        {% if instance_obj.r1_conf_4 %}
                        <span class="conf-score"><i class="small">Konfidenz:</i><br>{{ instance_obj.r1_conf_4 }}</span>
                        {% endif %}
                    </td>
                    <td class="expl-text">"{{ instance_obj.r1_expl_4 }}"</td>
                    <td class="validation-cell">
                        <form class="annotation-form">
                            <fieldset>
                                <input type="radio" id="v4_valid" name="validity_4:::valid" value="v4_valid" class="validity_4" onclick="onlyOne(this)" validation="required">
                                <label class="text-success font-weight-bold" for="v4_valid">Ja (Sinnvoll)</label><br>

                                <input type="radio" id="v4_invalid" name="validity_4:::invalid" value="v4_invalid" class="validity_4" onclick="onlyOne(this)">
                                <label class="text-danger" for="v4_invalid">Nein (Ungültig)</label><br>

                                <input type="radio" id="v4_unsure" name="validity_4:::unsure" value="v4_unsure" class="validity_4" onclick="onlyOne(this)">
                                <label class="text-secondary" for="v4_unsure">Unsicher</label>
                            </fieldset>
                        </form>
                    </td>
                </tr>
                {% endif %}

            </tbody>
        </table>
    </div>
</div>